import{a as e,p as m}from"./chunk-EPOLDU6W-MniqWpl7.js";const a=typeof document<"u"?e.useLayoutEffect:e.useEffect;function b(c,i,n){const u=e.useRef(null),r=e.useRef(null);return e.useEffect(()=>{const o=typeof n=="function"?n():n;return(o||r.current)&&(u.current=new MutationObserver(c),u.current.observe(o||r.current,i)),()=>{u.current?.disconnect()}},[c,i]),r}const f=e.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function p(){return e.useContext(f)}function x({children:c,initialDirection:i="ltr",detectDirection:n=!0}){const[u,r]=e.useState(i),o=e.useCallback(t=>{r(t),document.documentElement.getAttribute("dir")!==t&&document.documentElement.setAttribute("dir",t)},[]),l=()=>o(u==="ltr"?"rtl":"ltr");a(()=>{if(n){const t=document.documentElement.getAttribute("dir");(t==="rtl"||t==="ltr")&&r(t)}},[]);const d=e.useCallback(()=>{if(typeof document>"u")return;const t=document.documentElement.getAttribute("dir");(t==="rtl"||t==="ltr")&&r(s=>s!==t?t:s)},[]);return b(d,n?{attributes:!0,attributeFilter:["dir"]}:{},typeof document<"u"&&n?document.documentElement:null),m.jsx(f.Provider,{value:{dir:u,toggleDirection:l,setDirection:o},children:c})}export{x as D,p as a,b,a as u};
