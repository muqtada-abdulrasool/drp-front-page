import{a as s,p as k}from"./chunk-EPOLDU6W-t5uwWe0M.js";import{e as F,u as W,a as L,B as x,c as B,j as oe,i as ae,d as ie}from"./factory-BeNM9-Nt.js";import{u as ue,h as le}from"./MantineThemeProvider-CkY8QvqM.js";import{a as ce}from"./get-contrast-color-D2ljh5Qu.js";import{g as de}from"./Select-DB4yynOA.js";import{t as E,u as P}from"./FocusTrap-CmXHprRp.js";import{a as fe}from"./DirectionProvider-DEKmsf-j.js";import{r as O,u as me}from"./CloseButton-BHLHQDea.js";import{u as he}from"./CheckIcon-BNOsmlKZ.js";function ve(t,e){if(t===e||Number.isNaN(t)&&Number.isNaN(e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:o}=n;if(o!==Object.keys(e).length)return!1;for(let a=0;a<o;a+=1){const i=n[a];if(!(i in e)||t[i]!==e[i]&&!(Number.isNaN(t[i])&&Number.isNaN(e[i])))return!1}return!0}function pe(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!ve(t[n],e[n]))return!1;return!0}function ge(t){const e=s.useRef([]),n=s.useRef(0);return pe(e.current,t)||(e.current=t,n.current+=1),[n.current]}function be(t,e){s.useEffect(t,ge(e))}function ye(t,e,n={autoInvoke:!1}){const o=s.useRef(null),a=s.useCallback((...m)=>{o.current||(o.current=window.setTimeout(()=>{t(m),o.current=null},e))},[e]),i=s.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]);return s.useEffect(()=>(n.autoInvoke&&a(),i),[i,a]),{start:a,clear:i}}function Re(){const[t,e]=s.useState(!1);return s.useEffect(()=>e(!0),[]),t}var M={root:"m_96b553a6"};function we(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function Se({target:t,parent:e,ref:n,displayAfterTransitionEnd:o}){const a=s.useRef(-1),[i,m]=s.useState(!1),[w,S]=s.useState(typeof o=="boolean"?o:!1),l=()=>{if(!t||!e||!n.current)return;const u=t.getBoundingClientRect(),c=e.getBoundingClientRect(),f=window.getComputedStyle(t),v=window.getComputedStyle(e),b=E(f.borderTopWidth)+E(v.borderTopWidth),y=E(f.borderLeftWidth)+E(v.borderLeftWidth),p={top:u.top-c.top-b,left:u.left-c.left-y,width:u.width,height:u.height};n.current.style.transform=`translateY(${p.top}px) translateX(${p.left}px)`,n.current.style.width=`${p.width}px`,n.current.style.height=`${p.height}px`},d=()=>{window.clearTimeout(a.current),n.current&&(n.current.style.transitionDuration="0ms"),l(),a.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},g=s.useRef(null),h=s.useRef(null);return s.useEffect(()=>{if(l(),t)return g.current=new ResizeObserver(d),g.current.observe(t),e&&(h.current=new ResizeObserver(d),h.current.observe(e)),()=>{g.current?.disconnect(),h.current?.disconnect()}},[e,t]),s.useEffect(()=>{if(e){const u=c=>{we(c.target,e)&&(d(),S(!1))};return e.addEventListener("transitionend",u),()=>{e.removeEventListener("transitionend",u)}}},[e]),ye(()=>{de()!=="test"&&m(!0)},20,{autoInvoke:!0}),fe(u=>{u.forEach(c=>{c.type==="attributes"&&c.attributeName==="dir"&&d()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:w}}const Ce=B((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),_=F((t,e)=>{const n=W("FloatingIndicator",null,t),{classNames:o,className:a,style:i,styles:m,unstyled:w,vars:S,target:l,parent:d,transitionDuration:g,mod:h,displayAfterTransitionEnd:u,attributes:c,...f}=n,v=L({name:"FloatingIndicator",classes:M,props:n,className:a,style:i,classNames:o,styles:m,unstyled:w,attributes:c,vars:S,varsResolver:Ce}),b=s.useRef(null),{initialized:y,hidden:p}=Se({target:l,parent:d,ref:b,displayAfterTransitionEnd:u}),N=P(e,b);return!l||!d?null:k.jsx(x,{ref:N,mod:[{initialized:y,hidden:p},h],...v("root"),...f})});_.displayName="@mantine/core/FloatingIndicator";_.classes=M;var A={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Ne={withItemsBorders:!0},Ee=B((t,{radius:e,color:n,transitionDuration:o,size:a,transitionTimingFunction:i})=>({root:{"--sc-radius":e===void 0?void 0:ie(e),"--sc-color":n?le(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":o===void 0?void 0:`${o}ms`,"--sc-transition-timing-function":i,"--sc-padding":ae(a,"sc-padding"),"--sc-font-size":oe(a)}})),D=F((t,e)=>{const n=W("SegmentedControl",Ne,t),{classNames:o,className:a,style:i,styles:m,unstyled:w,vars:S,data:l,value:d,defaultValue:g,onChange:h,size:u,name:c,disabled:f,readOnly:v,fullWidth:b,orientation:y,radius:p,color:N,transitionDuration:ke,transitionTimingFunction:xe,variant:q,autoContrast:H,withItemsBorders:K,mod:U,attributes:X,...Y}=n,R=L({name:"SegmentedControl",props:n,classes:A,className:a,style:i,classNames:o,styles:m,unstyled:w,attributes:X,vars:S,varsResolver:Ee}),z=ue(),j=l.map(r=>typeof r=="string"?{label:r,value:r}:r),G=Re(),[J,Q]=s.useState(O()),[Z,V]=s.useState(null),[I,ee]=s.useState({}),te=(r,T)=>{I[T]=r,ee(I)},[C,ne]=he({value:d,defaultValue:g,finalValue:Array.isArray(l)?j.find(r=>!r.disabled)?.value??l[0]?.value??null:null,onChange:h}),$=me(c),re=j.map(r=>s.createElement(x,{...R("control"),mod:{active:C===r.value,orientation:y},key:r.value},s.createElement("input",{...R("input"),disabled:f||r.disabled,type:"radio",name:$,value:r.value,id:`${$}-${r.value}`,checked:C===r.value,onChange:()=>!v&&ne(r.value),"data-focus-ring":z.focusRing,key:`${r.value}-input`}),s.createElement(x,{component:"label",...R("label"),mod:{active:C===r.value&&!(f||r.disabled),disabled:f||r.disabled,"read-only":v},htmlFor:`${$}-${r.value}`,ref:T=>te(T,r.value),__vars:{"--sc-label-color":N!==void 0?ce({color:N,theme:z,autoContrast:H}):void 0},key:`${r.value}-label`},k.jsx("span",{...R("innerLabel"),children:r.label})))),se=P(e,r=>V(r));return be(()=>{Q(O())},[l.length]),l.length===0?null:k.jsxs(x,{...R("root"),variant:q,size:u,ref:se,mod:[{"full-width":b,orientation:y,initialized:G,"with-items-borders":K},U],...Y,role:"radiogroup","data-disabled":f,children:[typeof C=="string"&&k.jsx(_,{target:I[C],parent:Z,component:"span",transitionDuration:"var(--sc-transition-duration)",...R("indicator")},J),re]})});D.classes=A;D.displayName="@mantine/core/SegmentedControl";export{D as S};
