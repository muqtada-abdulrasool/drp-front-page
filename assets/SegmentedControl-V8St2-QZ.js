import{a as r,p as k}from"./chunk-EPOLDU6W-MniqWpl7.js";import{e as F,u as W,a as L,B as x,c as B,j as oe,i as ae,d as ie}from"./factory-CPMwJhVZ.js";import{u as ue,h as le}from"./MantineThemeProvider-C8SFIJmT.js";import{a as ce}from"./get-contrast-color-3yzr_w84.js";import{g as de,u as fe}from"./Select-Brnxq6eS.js";import{t as E,b as P,r as O,u as me}from"./CloseButton-Dj29Xdnp.js";import{b as he}from"./DirectionProvider-CA_UGL5o.js";function ve(t,e){if(t===e||Number.isNaN(t)&&Number.isNaN(e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:o}=n;if(o!==Object.keys(e).length)return!1;for(let a=0;a<o;a+=1){const i=n[a];if(!(i in e)||t[i]!==e[i]&&!(Number.isNaN(t[i])&&Number.isNaN(e[i])))return!1}return!0}function ge(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!ve(t[n],e[n]))return!1;return!0}function pe(t){const e=r.useRef([]),n=r.useRef(0);return ge(e.current,t)||(e.current=t,n.current+=1),[n.current]}function be(t,e){r.useEffect(t,pe(e))}function ye(t,e,n={autoInvoke:!1}){const o=r.useRef(null),a=r.useCallback((...m)=>{o.current||(o.current=window.setTimeout(()=>{t(m),o.current=null},e))},[e]),i=r.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]);return r.useEffect(()=>(n.autoInvoke&&a(),i),[i,a]),{start:a,clear:i}}function Re(){const[t,e]=r.useState(!1);return r.useEffect(()=>e(!0),[]),t}var M={root:"m_96b553a6"};function we(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function Se({target:t,parent:e,ref:n,displayAfterTransitionEnd:o}){const a=r.useRef(-1),[i,m]=r.useState(!1),[w,S]=r.useState(typeof o=="boolean"?o:!1),l=()=>{if(!t||!e||!n.current)return;const u=t.getBoundingClientRect(),c=e.getBoundingClientRect(),f=window.getComputedStyle(t),v=window.getComputedStyle(e),b=E(f.borderTopWidth)+E(v.borderTopWidth),y=E(f.borderLeftWidth)+E(v.borderLeftWidth),g={top:u.top-c.top-b,left:u.left-c.left-y,width:u.width,height:u.height};n.current.style.transform=`translateY(${g.top}px) translateX(${g.left}px)`,n.current.style.width=`${g.width}px`,n.current.style.height=`${g.height}px`},d=()=>{window.clearTimeout(a.current),n.current&&(n.current.style.transitionDuration="0ms"),l(),a.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},p=r.useRef(null),h=r.useRef(null);return r.useEffect(()=>{if(l(),t)return p.current=new ResizeObserver(d),p.current.observe(t),e&&(h.current=new ResizeObserver(d),h.current.observe(e)),()=>{p.current?.disconnect(),h.current?.disconnect()}},[e,t]),r.useEffect(()=>{if(e){const u=c=>{we(c.target,e)&&(d(),S(!1))};return e.addEventListener("transitionend",u),()=>{e.removeEventListener("transitionend",u)}}},[e]),ye(()=>{de()!=="test"&&m(!0)},20,{autoInvoke:!0}),he(u=>{u.forEach(c=>{c.type==="attributes"&&c.attributeName==="dir"&&d()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:w}}const Ce=B((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),_=F((t,e)=>{const n=W("FloatingIndicator",null,t),{classNames:o,className:a,style:i,styles:m,unstyled:w,vars:S,target:l,parent:d,transitionDuration:p,mod:h,displayAfterTransitionEnd:u,attributes:c,...f}=n,v=L({name:"FloatingIndicator",classes:M,props:n,className:a,style:i,classNames:o,styles:m,unstyled:w,attributes:c,vars:S,varsResolver:Ce}),b=r.useRef(null),{initialized:y,hidden:g}=Se({target:l,parent:d,ref:b,displayAfterTransitionEnd:u}),N=P(e,b);return!l||!d?null:k.jsx(x,{ref:N,mod:[{initialized:y,hidden:g},h],...v("root"),...f})});_.displayName="@mantine/core/FloatingIndicator";_.classes=M;var A={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Ne={withItemsBorders:!0},Ee=B((t,{radius:e,color:n,transitionDuration:o,size:a,transitionTimingFunction:i})=>({root:{"--sc-radius":e===void 0?void 0:ie(e),"--sc-color":n?le(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":o===void 0?void 0:`${o}ms`,"--sc-transition-timing-function":i,"--sc-padding":ae(a,"sc-padding"),"--sc-font-size":oe(a)}})),D=F((t,e)=>{const n=W("SegmentedControl",Ne,t),{classNames:o,className:a,style:i,styles:m,unstyled:w,vars:S,data:l,value:d,defaultValue:p,onChange:h,size:u,name:c,disabled:f,readOnly:v,fullWidth:b,orientation:y,radius:g,color:N,transitionDuration:ke,transitionTimingFunction:xe,variant:q,autoContrast:H,withItemsBorders:K,mod:U,attributes:X,...Y}=n,R=L({name:"SegmentedControl",props:n,classes:A,className:a,style:i,classNames:o,styles:m,unstyled:w,attributes:X,vars:S,varsResolver:Ee}),z=ue(),j=l.map(s=>typeof s=="string"?{label:s,value:s}:s),G=Re(),[J,Q]=r.useState(O()),[Z,V]=r.useState(null),[I,ee]=r.useState({}),te=(s,T)=>{I[T]=s,ee(I)},[C,ne]=fe({value:d,defaultValue:p,finalValue:Array.isArray(l)?j.find(s=>!s.disabled)?.value??l[0]?.value??null:null,onChange:h}),$=me(c),se=j.map(s=>r.createElement(x,{...R("control"),mod:{active:C===s.value,orientation:y},key:s.value},r.createElement("input",{...R("input"),disabled:f||s.disabled,type:"radio",name:$,value:s.value,id:`${$}-${s.value}`,checked:C===s.value,onChange:()=>!v&&ne(s.value),"data-focus-ring":z.focusRing,key:`${s.value}-input`}),r.createElement(x,{component:"label",...R("label"),mod:{active:C===s.value&&!(f||s.disabled),disabled:f||s.disabled,"read-only":v},htmlFor:`${$}-${s.value}`,ref:T=>te(T,s.value),__vars:{"--sc-label-color":N!==void 0?ce({color:N,theme:z,autoContrast:H}):void 0},key:`${s.value}-label`},k.jsx("span",{...R("innerLabel"),children:s.label})))),re=P(e,s=>V(s));return be(()=>{Q(O())},[l.length]),l.length===0?null:k.jsxs(x,{...R("root"),variant:q,size:u,ref:re,mod:[{"full-width":b,orientation:y,initialized:G,"with-items-borders":K},U],...Y,role:"radiogroup","data-disabled":f,children:[typeof C=="string"&&k.jsx(_,{target:I[C],parent:Z,component:"span",transitionDuration:"var(--sc-transition-duration)",...R("indicator")},J),se]})});D.classes=A;D.displayName="@mantine/core/SegmentedControl";export{D as S};
