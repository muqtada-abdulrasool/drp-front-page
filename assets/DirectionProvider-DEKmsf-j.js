import{a as e,p as f}from"./chunk-EPOLDU6W-t5uwWe0M.js";import{u as a}from"./use-isomorphic-effect-CIKYNDun.js";function b(i,c,r){const u=e.useRef(null),n=e.useRef(null);return e.useEffect(()=>{const o=typeof r=="function"?r():r;return(o||n.current)&&(u.current=new MutationObserver(i),u.current.observe(o||n.current,c)),()=>{u.current?.disconnect()}},[i,c]),n}const l=e.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function x(){return e.useContext(l)}function D({children:i,initialDirection:c="ltr",detectDirection:r=!0}){const[u,n]=e.useState(c),o=e.useCallback(t=>{n(t),document.documentElement.getAttribute("dir")!==t&&document.documentElement.setAttribute("dir",t)},[]),m=()=>o(u==="ltr"?"rtl":"ltr");a(()=>{if(r){const t=document.documentElement.getAttribute("dir");(t==="rtl"||t==="ltr")&&n(t)}},[]);const d=e.useCallback(()=>{if(typeof document>"u")return;const t=document.documentElement.getAttribute("dir");(t==="rtl"||t==="ltr")&&n(s=>s!==t?t:s)},[]);return b(d,r?{attributes:!0,attributeFilter:["dir"]}:{},typeof document<"u"&&r?document.documentElement:null),f.jsx(l.Provider,{value:{dir:u,toggleDirection:m,setDirection:o},children:i})}export{D,b as a,x as u};
